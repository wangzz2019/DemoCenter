<!DOCTYPE html>
<html>

<head>
  <title>
    testdiv
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body>
  
  <div id="testdiv" style="height:100px;width:200px;overflow-y:auto;background:#EEEEEE;">
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnop<br>
    abcdefghijklmnot<br>
  </div>
  
  <button id="testbtn" class="btn btn-primary btn-margin container"; disabled=true; onclick="displayMessage()">
    <font size="4">test button</font>
  </button>
  <div id="message">
  </div>
  <script type="text/javascript">
    function displayMessage(){
      message.innerHTML="button clicked!";
    }
  </script>
  <script type="text/javascript">
    var addEvent = (function () {
      if (window.addEventListener) {
        return function (elm, type, handle) {
          elm.addEventListener(type, handle, false);
        }
      }
      if (window.attachEvent) {
        return function (elm, type, handle) {
          elm.attachEvent('on' + type, handle);
        }
      }
    })();

    var div = document.getElementById('testdiv');
    addEvent(div, 'scroll', function () {
      var scrollHeight = div.scrollHeight;
      var scrollTop = div.scrollTop;
      var height = div.offsetHeight;
      if ((scrollTop + height) == scrollHeight) {
        console.log('it is bottom');
        testbtn.disabled=false;
      }
      else{
        testbtn.disabled=true;
      }
    });
  </script>
</body>

</html>